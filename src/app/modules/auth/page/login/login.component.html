<form (ngSubmit)="login()" [formGroup]="loginForm">
  <fieldset [disabled]="isLoading">
    <div class="form-group">
      <label class="d-block">
        <input autofocus type="text" class="form-control" placeholder="Username" formControlName="username">
        <app-control-messages [control]="form.username"></app-control-messages>
      </label>
    </div>
    <div class="form-group">
      <button type="submit" class="btn btn-primary" type="submit" [attr.disabled]="loginForm.invalid || undefined">
        <span [hidden]="isLoading">Log in</span>
        <span [hidden]="!isLoading">
          Loading...
        </span>
      </button>
    </div>

    <aside [hidden]="!error" class="alert alert-danger">
      {{ error }}
    </aside>
  </fieldset>
</form>
